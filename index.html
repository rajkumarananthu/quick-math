<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>


<div id="container"><p>Hello {{name}}</p>

<p>{{tokens[0].lo}}</p>
<p>{{tokens[0].op}}</p>
<p>{{tokens[0].ro}}</p>
<p>{{tokens[0].result}}</p>

<input v-on:keyup.enter|keyup.space="checkCalculation" v-model="answer" type="text" name="answer">
<p>Score</p>
<p>{{ score }}</p>
</div>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.24/vue.js"></script>
<script type="text/javascript">

// app.js

new Vue({

  // We want to target the div with an id of 'container'
  el: '#container',

  // Here we can register any values or collections that hold data
  // for the application
  data: {
     name : "",
     score : 0,
     tokens:[]

     
  },

  // Anything within the ready function will run when the application loads
  ready: function() {
    var name = prompt("Please Enter you Name");
    this.name = name;
    this.randomNumbers();
  },

  // Methods we want to use in our application are registered here

  methods: {


    randomNumbers: function(){

      a = Math.floor(Math.random() * (4 - 1 + 1) + 1);
      b = Math.floor(Math.random() * (4 - 1 + 1) + 1);
      
      return this.randomOperation(a,b);

    },

    randomOperation: function(a, b){
      randInt = Math.floor(Math.random() * (4 - 1 + 1) + 1);
      switch(randInt){
         case 1:
          result = a + b;
          op = '+';
          break;
         case 2:
          result = a - b;
          op = '-';
          break;
         case 3:
          result = a * b;
          op = '*';
          break;
         case 4:
          result = a % b;
          op = '%';
          break;

      }

      var tokens = [{'lo':a,'ro':b,'result':result,'op':op}];
      this.$set('tokens',tokens)
    },

    checkCalculation: function(){
                                  // 'this' is important below
      if(this.tokens[0].result == this.answer){
        alert("Hurray");
        this.answer = "";
        this.updateScore();

      }
      else{
        alert("Oops");
      }
    },

    updateScore:function(){
      this.score += 1;
      this.randomNumbers();
    },

  }


});

</script>  
</body>
</html>
